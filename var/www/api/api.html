<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>API TEST FRONTPAGE </title>
	<style>
		* {
			margin: 0;
			padding: 0;
		}
		body {
			font-family: Favorit,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif;
			display: flex;
			justify-content: center;
			align-items: center;
			height: 90vh;
		}
		.error-container {
			display: flex;
			flex-direction: column;
			gap: 0.75rem;
			text-align: center;
			max-width: 600px;
		}
		.error-container img {
			max-width: 200px;
			margin: 0 auto;
			opacity: 0.9;
		}
		h1 {
			font-size: 3rem;
			font-weight: 600;
		}
		p {
			font-size: 1rem;
			line-height: 1.3;
		}
		.button {
			display: inline-block;
			text-decoration: none;
			font-weight: 500;
			transition: opacity 0.15s ease;
		}
		.button:hover {
			opacity: 0.8;
			text-decoration: underline;
		}
	</style>
</head>
<body>
	<div class="error-container">
		<h1>API TEST FRONTPAGE</h1>
		<p>Message to be defined</p>
		<a href="/" class="button">← Return to homepage</a>
	</div>

<h2>Upload de fichier</h2>

<form id="uploadForm">
    <input type="file" id="fileInput" required>
    <br><br>
    <button type="submit">Envoyer</button>
</form>

<p id="result"></p>

<script>
document.getElementById("uploadForm").addEventListener("submit", function(e) {
    e.preventDefault(); // ⛔ empêche la redirection

    const file = document.getElementById("fileInput").files[0];
    const formData = new FormData();
    formData.append("file", file);

    fetch("http://localhost:8080/api/", {
        method: "POST",
        body: formData
    })
    .then(response => {
        document.getElementById("result").innerText =
            "HTTP status: " + response.status;
    })
    .catch(err => {
        document.getElementById("result").innerText =
            "Erreur réseau";
    });
});
</script>
</body>
</html>
